{% block style %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/cardstyle.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/modalstyle.css') }}">
{% endblock style %}

{% extends "basenew.html" %}

{% block content %}
<div class="container-fluid gencontainer projectcontainer" id="blog">

    <!--    
            Modals placed at the top of page as webkit overflow scrolling touch
            does not play well with any type of mobile z-indexing
    -->
    {% for post in allposts %}
    <div id="modalpost{{ post.id }}" class="modal">
        <div class="modal-content">
            <h1 class="modalhead">{{ post.title }}</h1>
            <img  class="modalimg" src="{{ post.imageurl }}" alt="{{ post.title }}">
            <p class="modalsubhead">{{ post.timestamp }}</p><br>
            <p class="modalp">{{ post.body|safe }}</p>
        </div>
    </div> 
    {% endfor %}
    
    {% for project in allprojects %}
    <div id="modal{{ project.id }}" class="modal">
        <div class="modal-content">
            <h1 class="modalhead">{{ project.title }}</h1>
            <img  class="modalimg" src="{{ project.imageurl }}" alt="{{ project.title }}">
            <p class="modalsubhead">{{ project.timestamp }}</p><br>
            <p class="modalp">{{ project.body|safe }}</p>
        </div>
    </div>
    {% endfor %}

    <div class="row subhead">
        <div class="col-lg-12">
            <h1 class="newmain">
                Recent Projects
            </h1>
            <p class="descript">
                Works, contributions, communities
            </p>
        </div>
    </div>
    <div class="row listcontainer">
        <div class="cardlist">
            {% for project in allprojects %}
                <div class="card" id="button{{ project.id }}">
                    <a>
                        <img  class="cardimg" src="{{ project.imageurl }}" alt="{{ project.title }}">
                        <div class="cardcontainer">
                            <p class="cardp">{{ project.title }}</p>
                        </div>
                    </a>
                </div>
                <script>
                    var modal{{ project.id }} = document.getElementById('modal{{ project.id }}');
                    var btn{{ project.id }} = document.getElementById("button{{ project.id }}");
                    btn{{ project.id }}.onclick = function() {
                        modal{{ project.id }}.style.display = "block";
                    }
                    modal{{ project.id }}.onclick = function() {
                        modal{{ project.id }}.style.display = "none";
                    }
                </script>

            {% endfor %}
        </div>
    </div>
</div>
<div class="container-fluid gencontainer blogcontainer" id="blog">
    <div class="row subhead">
        <div class="col-lg-12">
            <h1 class="newmain">
                Blog
            </h1>
            <p class="descript">
                Thoughts, ideas, sparks
            </p>
        </div>
    </div>
    <div class="row listcontainer">
        <div class="cardlist">
            {% for post in allposts %}
                <div class="card" id="buttonpost{{ post.id }}">
                    <a>
                        <img  class="cardimg" src="{{ post.imageurl }}" alt="{{ post.title }}">
                        <div class="cardcontainer">
                            <p class="cardp">{{ post.title }}</p>
                        </div>
                    </a>
                </div>
                <script>
                    var modalpost{{ post.id }} = document.getElementById('modalpost{{ post.id }}');
                    var btnpost{{ post.id }} = document.getElementById("buttonpost{{ post.id }}");
                    btnpost{{ post.id }}.onclick = function() {
                        modalpost{{ post.id }}.style.display = "block";
                    }
                    modalpost{{ post.id }}.onclick = function() {
                        modalpost{{ post.id }}.style.display = "none";
                    }
                </script>
            {% endfor %}
        </div>
    </div>
</div>
<div class="container-fluid gencontainer articlecontainer" id="blog">
    <div class="row subhead">
        <div class="col-lg-12">
            <h1 class="newmain">
                Articles
            </h1>
            <p class="descript">
                Interests, impacts, importance
            </p>
        </div>
    </div>
    <div class="row listcontainer">
        <div class="cardlist">
            {% for article in allarticles %}
                <div class="card">
                    <a href="{{ article.url }}" target="_blank">
                        <img  class="cardimg" src="{{ article.imageurl }}" alt="{{ article.body }}">
                        <div class="cardcontainer">
                            <p class="cardp">{{ article.body }}</p>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% include 'footer.html' %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/cardscroll.js') }}"></script>
{% endblock content %}
